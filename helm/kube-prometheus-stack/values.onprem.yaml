# 📦 helm/kube-prometheus-stack/values.onprem.yaml

fullnameOverride: prometheus

prometheus:
  service:
    type: ClusterIP
  ingress:
    enabled: false
  prometheusSpec:
    storageSpec:
      volumeClaimTemplate:
        spec:
          storageClassName: nfs-storage
          accessModes: ["ReadWriteOnce"]
          resources:
            requests:
              storage: 8Gi

# Alertmanager 설정 (Slack 알림 설정 추가)
alertmanager:
  config:
    global:
      resolve_timeout: 5m
    route:
      receiver: 'slack-notifications'
      group_wait: 10s
      group_interval: 30s
      repeat_interval: 1h
    receivers:
      - name: 'slack-notifications'
        slack_configs:
          - channel: '#onprecluster'                     # 원하는 Slack 채널명으로 수정 가능
            send_resolved: true
            username: 'alertmanager'
            icon_emoji: ':fire:'
            api_url: 'https://hooks.slack.com/services/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'

grafana:
  enabled: false

serviceMonitor:
  selfMonitor: true